<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="assets/images/logo.ico">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/reset.css">

    <title>Reset Point — Reset</title>

    <script>
        const user = localStorage.getItem('user')
        if (user) {
            window.location.href = 'index.html'
        }

        function createUser() {
            const now = new Date()
            const minutes = now.getMinutes().toString().padStart(2, '0')
            const seconds = now.getSeconds().toString().padStart(2, '0')
            const userJson = {
                name: `重置者${minutes}${seconds}`,
                id: `#0513${minutes}${seconds}`,
                experience: 50, //經驗值
                strength: 0, //體力
                intelligence: 0, //智力
                agility: 0, //敏捷
                fortune: 0, //運氣
                sanity: 0, //san值
                security: 0, //安全感
                attachment: 0, //依附度
                completedChapters: 0, //總進度
                completedEndings: 0, //總結局
                resetTimes: 0, //重置次數
                resetChapters: 0, //目前章節 → 影響深淺灰色
                currentChapter: 0, //打開章節
                chapterChoices: {
                    1: 0,
                    2: 0,
                    3: 0,
                    4: 0,
                    5: 0
                }, //章節選擇
                endings: {
                    1: false,
                    2: false,
                    3: false
                }, //解鎖結局
                tasks: {
                    1: { currentProgress: 0, maxProgress: 4, rewardClaimed: false },
                    2: { currentProgress: 0, maxProgress: 1, rewardClaimed: false },
                    3: { currentProgress: 0, maxProgress: 3, rewardClaimed: false },
                    4: { currentProgress: 0, maxProgress: 5, rewardClaimed: false },
                    5: { currentProgress: 0, maxProgress: 3, rewardClaimed: false }
                }, //任務統計
                musicOn: true //音樂設置
            }
            localStorage.setItem('user', JSON.stringify(userJson))

            window.location.href = 'index.html'
        }
    </script>
</head>

<body>
    <div class="content">
        <img src="assets/images/logo.png" alt="">
        <button id="resetBtn" class="jersey-15" type="button" onclick="createUser()">RESET</button>
    </div>
</body>

</html>